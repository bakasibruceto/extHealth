<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>extHealth header</title>
    <link rel="stylesheet" href="../css/default.css" />
  </head>

  <body style="width:800px; height:600px; margin: auto; border: 1px solid black;">
    <!-- note we are following the max height and width of a browser extension -->
     <!-- just remove the border -->

    <header class="board">
      <div class="TitleLogo">
        <img src="icon.png" alt="Logo" class="logo" />
        <h2 id="popupTitle" class="popupTitle">
          eXtHealth <span class="forc">for Chrome</span>
        </h2>
      </div>
    </header>
    <section id="options">
      <ul>
        <li ref="factChecking" >
          Fact Checking
          <img src="" alt="factLogo" />
        </li>
        <li ref="healthReminders" class="activeOption">
          Health Reminders
          <img src="" alt="reminderLogo" />
        </li>
        <li ref="settings">
          Settings
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.511 8.20005C15.2316 8.19701 14.958 8.12085 14.7172 7.97915C14.4764 7.83747 14.2769 7.63519 14.1385 7.39247C14.0002 7.14976 13.9278 6.87503 13.9286 6.59565C13.9294 6.31627 14.0033 6.04198 14.143 5.80004L14.239 5.63202C14.3438 5.4543 14.4107 5.25682 14.4355 5.05199C14.4603 4.84717 14.4424 4.63944 14.3831 4.44184C14.3237 4.24424 14.2241 4.06106 14.0906 3.9038C13.957 3.74654 13.7924 3.61858 13.607 3.52802C13.2182 3.34126 12.7736 3.3067 12.3606 3.43105C11.9476 3.55539 11.596 3.82968 11.375 4.20004C11.2324 4.43516 11.0316 4.62954 10.792 4.76445C10.5523 4.89935 10.282 4.97026 10.007 4.97026C9.73205 4.97026 9.46165 4.89935 9.22205 4.76445C8.98245 4.62954 8.78157 4.43516 8.63901 4.20004C8.41797 3.82968 8.06638 3.55539 7.65337 3.43105C7.24037 3.3067 6.7958 3.34126 6.40701 3.52802C6.22162 3.61858 6.05698 3.74654 5.92342 3.9038C5.78986 4.06106 5.69026 4.24424 5.63091 4.44184C5.57155 4.63944 5.55372 4.84717 5.57852 5.05199C5.60331 5.25682 5.67021 5.4543 5.775 5.63202L5.871 5.80004C6.0107 6.04198 6.08462 6.31627 6.0854 6.59565C6.08618 6.87503 6.01382 7.14976 5.87547 7.39247C5.73712 7.63519 5.53762 7.83747 5.29682 7.97915C5.05604 8.12085 4.78237 8.19701 4.503 8.20005C4.11378 8.19045 3.73363 8.31837 3.42932 8.56125C3.12502 8.80405 2.91599 9.14637 2.83899 9.52805C2.79899 9.75973 2.81056 9.99741 2.87286 10.2241C2.93515 10.4508 3.04666 10.6611 3.19942 10.8398C3.35218 11.0185 3.54244 11.1613 3.75669 11.2582C3.97095 11.355 4.2039 11.4035 4.43899 11.4H4.53501C4.81437 11.4031 5.08805 11.4792 5.32883 11.6209C5.56962 11.7626 5.7691 11.9649 5.90745 12.2076C6.04579 12.4503 6.11819 12.7251 6.11741 13.0045C6.11662 13.2838 6.04271 13.5581 5.903 13.8L5.86299 13.864C5.65353 14.2348 5.59653 14.6726 5.70403 15.0847C5.81153 15.4968 6.07509 15.8509 6.43899 16.0721C6.80179 16.2809 7.23199 16.3392 7.63728 16.2345C8.04258 16.1298 8.39072 15.8704 8.60701 15.512L8.62301 15.4001C8.76565 15.1649 8.96645 14.9705 9.20605 14.8357C9.44565 14.7008 9.71597 14.6298 9.99101 14.6298C10.266 14.6298 10.5364 14.7008 10.776 14.8357C11.0156 14.9705 11.2164 15.1649 11.359 15.4001L11.415 15.512C11.6313 15.8726 11.9809 16.1335 12.3881 16.2383C12.7954 16.3431 13.2275 16.2834 13.591 16.0721C13.9494 15.8558 14.2088 15.5076 14.3134 15.1024C14.4181 14.697 14.3598 14.2668 14.151 13.904L14.103 13.8161C13.9633 13.5741 13.8894 13.2998 13.8886 13.0204C13.8878 12.741 13.9602 12.4664 14.0985 12.2236C14.2368 11.9809 14.4364 11.7786 14.6772 11.6369C14.918 11.4952 15.1916 11.4191 15.471 11.416H15.567C15.802 11.4195 16.0351 11.3711 16.2493 11.2742C16.4636 11.1774 16.6538 11.0344 16.8066 10.8557C16.9593 10.677 17.0708 10.4668 17.1332 10.2401C17.1954 10.0134 17.207 9.77573 17.167 9.54405C17.0936 9.16085 16.8871 8.81589 16.5841 8.56997C16.2812 8.32405 15.9011 8.19309 15.511 8.20005Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M10 11.832C11.1046 11.832 12 10.9366 12 9.83205C12 8.72749 11.1046 7.83203 10 7.83203C8.89544 7.83203 8 8.72749 8 9.83205C8 10.9366 8.89544 11.832 10 11.832Z" stroke="black" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          
        </li>
      </ul>
    </section>
    <section id ="body">
        <div id="factChecking">
            sample fact
        </div>
        <div id="healthReminders" class="selectedOption">
            sample reminder
        </div>
        <div id="settings">
            sample settings
        </div>
    </section>

    <script>
      window.addEventListener("DOMContentLoaded", (event) => {
        document.querySelectorAll("#options ul li").forEach((li) => {
          li.addEventListener("click", (event) => {
            document.querySelectorAll("#options ul li").forEach((li) => {
              li.classList.remove("activeOption");
            });
    
            let clickedElement = event.target;
            // If the clicked element is not the li itself, find the closest li parent
            if (clickedElement.tagName !== "LI") {
              clickedElement = clickedElement.closest("li");
            }
    
            clickedElement.classList.add("activeOption");
    
            // Get the ref attribute of the clicked li element
            const refValue = clickedElement.getAttribute("ref");
            // Log the ref value
            toggleOption(refValue);
          });
        });

        const element = document.querySelector('#body .selectedOption');
        element.classList.add('appearRight');
      });
    
      function toggleOption(refValue) {
        const appearClasses = ['appearRight', 'appearLeft'];
        const disappearClasses = ['disappearRight', 'disappearLeft'];

        const currentlySelected = document.querySelector("#body div.selectedOption");
        const selectedOption = document.getElementById(refValue);
        

        // if the next selected is on the right. make the next one appear from the right. and the current one disappear to the left
        // vise versa
        if (currentlySelected) {
          const disappearClass = currentlySelected.nextElementSibling === selectedOption ? disappearClasses[0] : disappearClasses[1];
          currentlySelected.classList.remove("selectedOption");
          currentlySelected.classList.add(disappearClass);
        }
    
        [...appearClasses, ...disappearClasses].forEach(cls => selectedOption.classList.remove(cls));
    
        const appearClass = currentlySelected && currentlySelected.nextElementSibling === selectedOption ? appearClasses[0] : appearClasses[1];
        
        selectedOption.classList.add("selectedOption", appearClass);
      }
    </script>
  </body>
</html>
